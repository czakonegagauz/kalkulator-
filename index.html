<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Калькулятор с процентной шкалой</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 320px; margin: 20px auto; }
    input { width: 100%; padding: 8px; font-size: 16px; }
    #output { margin-top: 16px; font-weight: bold; }
  </style>
</head>
<body>

  <label>Введите сумму:
    <input type="number" id="amount" value="0" step="0.01" oninput="calculate()" />
  </label>

  <div id="output"></div>

  <script>
    // Задаём шкалу: [нижняя граница, верхняя граница, процент]
    // верхняя граница включается в интервал
    const scale = [
      [0, 1000, 5.0],      // до 1000 — 5%
      [1000.01, 5000, 4.0], // от 1000.01 до 5000 — 4%
      [5000.01, 10000, 3.5],// от 5000.01 до 10000 — 3.5%
      [10000.01, Infinity, 3.0] // больше 10000 — 3%
    ];

    function calculate() {
      const amount = parseFloat(document.getElementById('amount').value) || 0;
      let percent = 0;

      for (const [min, max, p] of scale) {
        if (amount >= min && amount <= max) {
          percent = p;
          break;
        }
      }

      const fee = amount * (percent / 100);
      const total = amount + fee;

      document.getElementById('output').innerHTML = `
        Процент наценки: ${percent.toFixed(2)}%<br>
        Наценка: ${fee.toFixed(2)}<br>
        Итоговая сумма: ${total.toFixed(2)}
      `;
    }

    calculate(); // расчёт при загрузке страницы
  </script>

</body>
</html>
